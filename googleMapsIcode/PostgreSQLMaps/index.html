<!DOCTYPE html>
<html>
  <head>
     <title>ICODE-MDA Maps</title>
     <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" >
     <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

     <link rel="stylesheet" type="text/css" href="css/style.css">

     <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=geometry,drawing,weather,visualization&sensor=false"> </script>
     <script type="text/javascript" src='scripts/icode-maps.js' ></script>
     <script type="text/javascript" src='scripts/markerclusterer.js' ></script>
     <script type="text/javascript" src='scripts/infobubble.js' ></script>

     <script type="text/javascript" language="Javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
     <script>window.jQuery || document.write('<script src="scripts/jquery.min.js"><\/script>')</script>
     <script type="text/javascript" src='scripts/fade.js' ></script>

     <script type="text/javascript" src="scripts/geoxml3.js"></script>
     <script type="text/javascript" src="scripts/ProjectedOverlay.js"></script>

     <script type="text/javascript" src="scripts/jQueryRotate.2.2.js"></script>
     <script type="text/javascript" src="scripts/jquery.activity-indicator-1.0.0.js"></script>

     <script type="text/javascript" src="scripts/ExtDraggableObject.js"></script>
     <script type="text/javascript" src="scripts/trackTimeSlider.js"></script>
     <script type="text/javascript" src="scripts/maplabel-compiled.js"></script>

     <script type="text/javascript" src="scripts/CSJSRequestObject.js"></script>

     <script type="text/javascript" src="scripts/fileUpload.js"></script>

     <!-- Theme downloaded from http://jqueryui.com/download/#!zThemeParams=5d00000100f405000000000000003d8888d844329a8dfe02723de3e5701fa198449035fc0613ff729a37dd818cf92b1f6938fefa90282d04ae436bb72367f5909357c629e832248af2c086db4ab730aa4cced933a88449eca61db9f7f3b23d47f58a712d809b6088edfb34ad39fdc365386d0fa05a1ac3ecd320d2c989729f79ebdc6c6c1efbdad4c8411d498f009ffe98fe129da7602fb950113abdae4a76a6c41a4b54b4f82bb8821d6d431cd3fdd76b9d621596a2728b93385f2e7aaf8ea6603553343d43829941536e2bdd3ed7d7d3207364bf351633b31b934a71523a88fa2058cdd4c2e0778cd56d6ccac254ddace19ff4460a100e2e6a52830d9063c6e328cc3cb5e3d6dbe1077ae8b7cc5fa6414eafd15883b40c6c3e71647031ce3da7038a945a5628669fbe0e5139dad7ce99c00f25c2cd40569bd2fe1b2caed45bf2b8943f6ac17215bd54437a0f739009848e80f1d5c00d99870e7258d07402af6b22872fdf8f2892a7e9274aaa9181573ddd8cd7788511b4459e736d76b3e64e015809712e904499648868a11e35b3bb8ee1168d6039c5a86eee8cf545c877dbdd0111ab04ede46a85a17baed0958026fe23d2e490cfa504ab598731d779a2434fa164085379d31e1ff08e2eeb9475cce3d5b3e9b2fd4df43dffe6cf0eda -->
     <script type="text/javascript" src="scripts/jquery-ui-1.10.3.custom.js"></script>
     <link rel="stylesheet" href="css/custom-theme/jquery-ui-1.10.3.custom.css">
     <script>
        $(function() {
           $( "#accordion" ).accordion({
              collapsible: true,
              //heightStyle: "content",
              heightStyle: "fill"
           });
           $(window).resize(function(){
              $("#accordion").accordion("refresh");
           });           
        });
     </script>

     <script>
        $(function() {
           $('#busy_indicator').activity({segments: 8, steps: 3, opacity: 0.3, width: 4, space: 0, length: 5, color: '#fff', speed: 2.0});
        });
     </script>

     <script>
        var panelhidden = false;
        $(function() {
           // run the currently selected effect
           function runEffect() {
              // get effect type from
              var selectedEffect = "slide";

              // most effect types need no options passed by default
              var options = {};

              // run the effect
              //$( "#panel" ).effect( selectedEffect, options, 500, callback );
           };

           // callback function to bring a hidden box back
           function callback() {
              setTimeout(function() {
                 // $( "#panel" ).removeAttr( "style" ).hide().fadeIn();
              }, 1000 );
           };

           // set effect from select menu value
           /*
           $( "#hidepanel" ).click(function() {
              $( "#panel" ).toggle("slide", { direction: 'right' });
              $( "#showpanel" ).html("><br>><br>>");
              return false;
           });
           */
           $( "#showpanel" ).click(function() {
              $( "#panel" ).toggle("slide", { direction: 'right' });
              if (!panelhidden) {
                 $( "#showpanel" ).html("<<br><<br><");
              }
              else {
                 $( "#showpanel" ).html("><br>><br>>");
              }
              panelhidden = !panelhidden;
              return false;
           });
        });
     </script>

  </head>

  <body onload="initialize()">

     <div id="panel_top">
        <div id="logo">
           <h2><a href=".">ICODE-MDA</a></h2>
        </div>
        <div id="top_nav">
           <div>
              <form name="query_form"><input id="query" type="text" name="query" style="width:100%" onkeypress="if (event.which == 13) {enteredQuery();return false;}" onClick="this.select();this.onclick=null;" value="QUERY RUNNING..."><input hidden="true" type="hidden"></form>
           </div>
        </div>
        <div id="stats_nav">
           <!-- result count and query time to be shown here -->

        </div>
     </div>
     <div id="container">
        <!-- BEGIN LEFT PANEL -->  
        <div id="panel">

           <div id="accordion" class="accordion">
              <h3>Vessel Types</h3>
              <div id="vessel_types">
                 <img align="top" src="icons/red1_90.png"> Radar Vessels<br>
                 <img align="top" src="icons/magenta1_90.png"> LAISIC Vessels<br>
                 <input class="checkboxallships" id="All Ships" name="All Ships" checked="false" type="checkbox" onclick="typeSelectedAllShips();"> 
                 <img align="top" src="icons/white0.png"> All Ships<br>
                 <input class="checkboxtype" id="0-Unspecified Ships" name="0-Unspecified Ships" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/pink0.png"> 0 - Unspecified Ships<br>
                 <input class="checkboxtype" id="30-Fishing" name="30-Fishing" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/cyan1_90.png"> 30 - Fishing<br>
                 <input class="checkboxtype" id="31-Towing" name="31-Towing" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/brown1_90.png"> 31 - Towing<br>
                 <input class="checkboxtype" id="32-Big Tow" name="32-Big Tow" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/brown1_90.png"> 32 - Big Tow<br>
                 <input class="checkboxtype" id="35-Military" name="35-Military" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/blue1_90.png"> 35 - Military<br>
                 <input class="checkboxtype" id="37-Pleasure Craft" name="37-Pleasure Craft" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/magenta1_90.png"> 37 - Pleasure Craft<br>
                 <input class="checkboxtype" id="51-Search and Rescue" name="51-Search and Rescue" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/red1_90.png"> 51 - Search & Rescue<br>
                 <input class="checkboxtype" id="52-Tug" name="52-Tug" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/brown1_90.png"> 52 - Tug<br>
                 <input class="checkboxtype" id="33-Dredge" name="33-Dredge" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/brown1_90.png"> 33 - Dredge<br>
                 <input class="checkboxtype" id="50-Pilot" name="50-Pilot" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/brown1_90.png"> 50 - Pilot<br>
                 <input class="checkboxtype" id="55-Law Enforcement" name="55-Law Enforcement" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/blue1_90.png"> 55 - Law Enforcement<br>
                 <input class="checkboxtype" id="6x-Passenger Vessels" name="6x-Passenger Vessels" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/lightgreen1_90.png"> 6x - Passenger Vessels<br>
                 <input class="checkboxtype" id="7x-Cargo Vessels" name="7x-Cargo Vessels" checked="checked" type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/lightgreen1_90.png"> 7x - Cargo Vessels<br>
                 <input class="checkboxtype" id="8x-Tankers" name="8x-Tankers" checked="checked"  type="checkbox" onclick="typeSelectUpdated();"> 
                 <img align="top" src="icons/lightgreen1_90.png"> 8x - Tankers<br>
              </div>

              <h3>Layer Types</h3>
              <div id="layer_types">
                 <!-- input class="checkbox" id="RadarLayer" name="RadarLayer" type="checkbox" checked="checked" onclick="toggleRadarLayer();"> <img align="top" src="icons/pink0.png" style="padding-bottom: 4px; vertical-align: middle;"> RADAR Contacts<br> -->
                 <input class="checkbox" id="ClusterLayer" name="ClusterLayer" type="checkbox" checked="checked" onclick="toggleClusterLayer();"> <img align="top" width="20px" src="icons/cluster.png" style="padding-bottom: 4px; vertical-align: middle;"> Cluster Layer<br>
                 <input class="checkbox" id="HeatmapLayer" name="HeatmapLayer" type="checkbox" onclick="toggleHeatmapLayer();"> <img align="top" width="20px" src="icons/heatmap.png" style="padding-bottom: 4px; vertical-align: middle;"> Heatmap Layer<br>
                 <input class="checkbox" id="WeatherLayer" name="WeatherLayer" type="checkbox" onclick="toggleWeatherLayer();"> <img align="top" width="20px" src="icons/weather_icon.png" style="padding-bottom: 4px; vertical-align: middle;"> Weather Layer<br>
                 <!-- input class="checkbox" id="KMLLayer" name="KMLLayer" type="checkbox" onclick="toggleKMLLayer();"> <img align="top" width="20px" src="icons/kml.png" style="padding-bottom: 4px; vertical-align: middle;"> KML Layer<br> -->
                 <input class="checkbox" id="PortLayer" name="PortLayer" type="checkbox" onclick="togglePortLayer();"> <img align="top" height="20px" src="icons/anchor_port.png" style="padding-bottom: 4px; vertical-align: middle;"> Port Layer<br>
                 </p>
              </div>
              
              <h3>Upload LAISIC bin</h3>
              <div>
                 Upload LAISIC bin file: <br />
                 <form id="laisicform" >
                    <input class="inputfilebutton" type="file" name="file" size="5" />
                    <input class="inputfilebutton" type="button" onClick="var form=this.form;$.getJSON('emptyuploadtable.php',{}).done(function (response){fileUpload(form,'laisic/laisicbinupload.php','upload');}); return false;" value="Upload">
                 </form>
                 <div id="uploadlaisic"></div>
              </div>

              <h3>Upload KMZ</h3>
              <div>
                 Upload KMZ: <br />
                 <form id="kmlform" >
                    <input class="inputfilebutton" type="file" name="file" size="5" />
                    <input class="inputfilebutton" type="button" onClick="fileUpload(this.form,'kml/kmzextract.php','upload'); return false;" value="Upload">
                 </form>
                 <div id="upload"></div>
              </div>

              <h3>Query Builder</h3>
              <div>
                 Coming soon.
              </div>

              <h3>Current Vessel List</h3>
              <div id="vessellist" class="vessellist"></div>

              <h3>Other Options</h3>
              <div>
                 <form id="distancetoolform" >
                    <input class="inputfilebutton" type="button" onClick="addDistanceTool();" value="Enable distance tool">
                 </form>

                 <input class="checkbox" id="queryalltracks" name="queryalltracks" type="checkbox" onclick="toggleQueryAllTracks();"> Query tracks for vessels in view<br>
              </div>
           </div>
           <!-- END ACCORDION -->

        </div>
        <!-- END LEFT PANEL -->  

        <!-- BEGIN MAP AREA -->
        <div id="map_canvas">
        </div> 
        <!-- END MAP AREA -->

        <div id="showpanel">
           ><br>><br>>
        </div>
     </div>

     <div id="busy_indicator"><div style="width: 32px; height: 32px;"></div></div>

     <div id="shipdetails">
     </div>

     <div id="latlong">
     </div>

     <div id="status-msg">
        <!-- NEW! Try keyword search, i.e. "Lome", "radar", "queen", etc -->
        Currently showing RADAR and raw full AIS for 2013-05-21
     </div>

  </body>
</html>

